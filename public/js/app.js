(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,e,n){n("bUC5"),t.exports=n("pyCd")},"9Wh1":function(t,e,n){window._=n("LvDl"),window.Vue=n("XuX8"),window.axios=n("vDqi"),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},bUC5:function(t,e,n){"use strict";n.r(e);var a=n("XuX8"),o=n.n(a),i=n("f0Wu"),r=n.n(i),s={name:"Layout",data:function(){return{radioTZ:"Europe/Prague",youTZ:"Australia/Perth",youNow:r()().format("HH:mm:ss"),radioNow:r()().format("HH:mm:ss"),radioDate:r()().format("Y-MM-DD"),radioThen:r()().format("HH:mm:ss"),radioCalendar:r()().format("HH:mm:ss"),interval:null,config:{},loaded:!1,offset:0,secondsLeft:0,on:!1}},mounted:function(){this.youTZ=Intl.DateTimeFormat().resolvedOptions().timeZone,this.interval=setInterval(function(){this.offset++,this.youNow=r()().tz(this.youTZ).format("dddd HH:mm:ss"),this.radioNow=r()().tz(this.radioTZ).format("dddd HH:mm:ss"),void 0!==this.$refs.player&&(this.radioThen=r()(this.config.recoded_timestamp).add(this.$refs.player.currentTime,"seconds").tz(this.radioTZ).format("dddd HH:mm:ss"),this.radioDate=r()(this.config.recoded_timestamp).add(this.$refs.player.currentTime,"seconds").tz(this.radioTZ).format("Y-MM-DD"),this.radioCalendar=r()(this.config.recoded_timestamp).add(this.$refs.player.currentTime,"seconds").tz(this.radioTZ).calendar(),this.secondsLeft=this.$refs.player.duration-this.$refs.player.currentTime,0===this.secondsLeft&&this.load())}.bind(this),1e3),this.load()},computed:{radioTime:function(){return r.a.tz(this.radioTZ)},radioZone:function(){return r.a.tz.zone(this.radioTZ)},youTime:function(){return r.a.tz(this.youTZ)},youZone:function(){return r.a.tz.zone(this.youTZ)},youOffset:function(){return(this.radioZone.utcOffset(r.a.now())-this.youZone.utcOffset(r.a.now()))/60}},methods:{app:function(){window.addToHomeScreen()},playing:function(){return void 0!==this.$refs.player&&!this.$refs.player.paused},load:function(){var t=this;axios.get("/play/"+this.youNow).then((function(e){var n=e.data;t.config=n,t.loaded=!0,t.$refs.player.play()})).catch((function(t){}))}}},d=n("KHd+"),u=Object(d.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("button",{staticClass:"btn btn-success",on:{click:function(e){return t.app()}}},[t._v("\n      Install App\n    ")])]),t._v(" "),n("div",{staticClass:"card-body"},[n("p",{staticClass:"pb-2 "},[t._v("\n      Radio1 Time: "),n("strong",[t._v(t._s(t.radioNow))]),n("br"),t._v("\n      Your Time: "),n("strong",[t._v(t._s(t.youNow))]),n("br"),t._v("\n      Timemachine Time: "),n("strong",[t._v(t._s(t.radioCalendar))])]),t._v(" "),n("div",[t._v("\n      Your are "+t._s(t.youOffset)+" hours\n      "),t.youOffset>0?n("span",[t._v("\n        in front of Radio 1\n      ")]):t._e(),t._v(" "),t.youOffset<0?n("span",[t._v("\n        behind\n      ")]):t._e(),t._v(" "),0==t.youOffset?n("span",[t._v("\n        In Prague :)\n      ")]):t._e()]),t._v(" "),t.loaded?n("div",{staticClass:"text-center pt-4"},[n("div",{staticClass:"alert alert-success"},[t._v("\n        Serving\n        "),n("strong",[t._v("\n          (\n          "),t.playing()?n("span",[t._v("Playing")]):n("span",[t._v("Paused")]),t._v("\n          )\n        ")]),t._v("\n\n        show from "),n("strong",[t._v(t._s(t.config.recoded_at)+" ")]),t._v("- "+t._s(t.radioThen)+"\n      ")]),t._v(" "),n("a",{attrs:{target:"_blank",href:"https://www.radio1.cz/program/?typ=dny&p="+t.radioDate}},[t._v("Program for day "+t._s(t.radioDate)+" ")]),t._v(" "),n("audio",{ref:"player",staticStyle:{width:"100%"},attrs:{preload:"metadata",controls:"",autoplay:"",id:"player",src:t.config.url+"#t="+t.config.offset}},[t._m(0)]),t._v("\n\n      OR\n      Live Radio1.cz\n      "),t._m(1),t._v(" "),n("div",{staticClass:"h1"})]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Your browser does not support the "),e("code",[this._v("audio")]),this._v(" element.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("audio",{staticStyle:{width:"100%"},attrs:{preload:"metadata",controls:"",src:"https://icecast6.play.cz/radio1-128.mp3"}},[e("p",[this._v("Your browser does not support the "),e("code",[this._v("audio")]),this._v(" element.")])])}],!1,null,null,null).exports,c=n("WIaV");o.a.use(c.a),n("9Wh1"),n("tWwT"),new o.a({el:"#app",methods:{},render:function(t){return t(u)}})},pyCd:function(t,e){},tWwT:function(t,e,n){"use strict";n.r(e);var a,o=n("o0o1"),i=n.n(o),r=n("rPoc"),s=n("2Glv"),d=n("XuX8"),u=n.n(d),c=n("vDqi"),f=n.n(c);function l(t,e,n,a,o,i,r){try{var s=t[i](r),d=s.value}catch(t){return void n(t)}s.done?e(d):Promise.resolve(d).then(a,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(a,o){var i=t.apply(e,n);function r(t){l(i,a,o,r,s,"next",t)}function s(t){l(i,a,o,r,s,"throw",t)}r(void 0)}))}}function h(){a&&(a.prompt(),a.userChoice.then((function(t){t.outcome,a=null})))}if(window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),a=t,h()})),window.addEventListener("appinstalled",(function(t){})),window.addToHomeScreen=h,"serviceWorker"in navigator){var v=new r.a("/sw.js");v.addEventListener("controlling",(function(t){})),v.addEventListener("activated",(function(t){t.isUpdate})),v.addEventListener("waiting",function(){var t=p(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v.addEventListener("message",function(){var t=p(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data&&"CACHE_UPDATED"===e.data.type&&e.data.payload.updatedURL,e.data&&"SKIP_WAITING"===e.data.type&&Object(s.a)();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),v.addEventListener("installed",(function(t){t.isUpdate&&f.a.get("/api/v1/app").then((function(t){var e=t.data;u.a.swal.fire({title:"Newer version of the app is available!.",text:"Make sure you have uploaded all offline audits.",footer:"Version (<b>"+e.version+"</b>) is available",icon:"info",imageUrl:"/images/sls_logo.png",showCancelButton:!0,confirmButtonText:"Reload new version",cancelButtonText:"Not right now",showLoaderOnConfirm:!0}).then((function(t){t.value&&window.location.reload()}))})).catch((function(t){}))})),v.register().then((function(){}))}}},[[0,1,2]]]);